:root {
    --bg: #F0F4F8; --surface: #FFFFFF; --text-main: #000000;
    --accent: #020C17; --border: #CFD8DC; --danger: #C0392B; --safe: #27AE60;
    --c-menu: #000000; --c-editor: #000000;
    --fs-menu: 18px; --fs-editor: 18px;
}

body.dark-mode {
    --bg: #050505; --surface: #121212; --text-main: #FFFFFF;
    --border: #333333; --accent: #1A3A5F;
    --c-menu: #FFFFFF !important; --c-editor: #FFFFFF !important;
}

body {
    margin: 0; font-family: -apple-system, system-ui, sans-serif;
    background: var(--bg); color: var(--text-main);
    user-select: none; -webkit-tap-highlight-color: transparent;
}

header {
    display: flex; align-items: center; padding: 0 10px;
    background: var(--surface); height: 75px;
    border-bottom: 2px solid var(--border); position: sticky; top: 0; z-index: 1000;
}
header h1 { flex: 1; text-align: center; font-size: 1.1rem; color: var(--c-menu); font-weight: 800; margin: 0; }

/* Boutons tactiles */
button {
    min-height: 55px; min-width: 55px; border-radius: 14px; border: none;
    background: var(--accent); color: white; font-weight: bold;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: transform 0.1s; touch-action: manipulation;
}
button:active { transform: scale(0.96); opacity: 0.9; }

header button { background: transparent; color: var(--c-menu) !important; font-size: 1.4rem; }
.pop-btn { background: var(--surface); border: 2px solid var(--accent); color: var(--accent); margin-right: 5px; }

/* Listes */
.item-row {
    background: var(--surface); margin: 12px; border-radius: 16px;
    border: 1px solid var(--border); display: flex; align-items: center; min-height: 85px;
}
.handle-sort { width: 60px; font-size: 2rem; color: #999; display: flex; justify-content: center; }
.item-content { flex: 1; padding: 15px 5px; font-weight: 600; font-size: var(--fs-menu); color: var(--c-menu); }
.handle-opt { width: 65px; font-size: 1.6rem; color: var(--c-menu); text-align: center; }

/* Éditeur */
.editor-container { padding: 15px; display: flex; flex-direction: column; gap: 15px; }
textarea {
    width: 100%; background: var(--surface); border: 2px solid var(--border);
    padding: 18px; color: var(--c-editor); border-radius: 15px;
    font-size: var(--fs-editor); box-sizing: border-box; outline: none; line-height: 1.5;
}

/* Menu Réglages */
.modal { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: flex; align-items: center; justify-content: center; z-index: 9999; padding: 10px; }
.modal-content {
    background: var(--surface); width: 100%; max-width: 450px;
    padding: 30px; border-radius: 24px; color: var(--text-main);
    max-height: 90vh; overflow-y: auto;
}
.setting-row { display: flex; justify-content: space-between; align-items: center; margin: 20px 0; }

/* Switch */
.switch-container {
    display: flex; align-items: center; justify-content: space-between;
    background: var(--accent); color: white; padding: 18px 22px; border-radius: 18px; cursor: pointer;
}
.toggle-track { width: 55px; height: 30px; background: #555; border-radius: 20px; position: relative; }
.toggle-track::after {
    content: ''; position: absolute; width: 24px; height: 24px;
    background: white; border-radius: 50%; top: 3px; left: 3px; transition: 0.2s;
}
body.dark-mode .toggle-track { background: var(--safe); }
body.dark-mode .toggle-track::after { left: 28px; }

.hidden { display: none !important; }
hr { border: 0; border-top: 1px solid var(--border); margin: 20px 0; }
